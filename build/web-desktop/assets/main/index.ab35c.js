window.__require=function e(t,n,o){function r(a,c){if(!n[a]){if(!t[a]){var l=a.split("/");if(l=l[l.length-1],!t[l]){var s="function"==typeof __require&&__require;if(!c&&s)return s(l,!0);if(i)return i(l,!0);throw new Error("Cannot find module '"+a+"'")}a=l}var u=n[a]={exports:{}};t[a][0].call(u.exports,function(e){return r(t[a][1][e]||e)},u,u.exports,e,t,n,o)}return n[a].exports}for(var i="function"==typeof __require&&__require,a=0;a<o.length;a++)r(o[a]);return r}({circlePageView:[function(e,t,n){"use strict";cc._RF.push(t,"76854lE869PYqItUd5GFG+4","circlePageView");var o,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,l=a.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.circle=!0,t}return r(t,e),i([l],t.prototype,"circle",void 0),i([c],t)}(cc.PageView);n.default=s,cc._RF.pop()},{}],h5FileLoad:[function(e,t,n){"use strict";cc._RF.push(t,"40585TiXQ9I5aCdp4IPIfsd","h5FileLoad");var o,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,l=a.property;window.spineSkeletonData=null,window.spineAtlasData=null,window.spineTextureData=null,window.spineSkeletonType=null,window.textureSrc=null;var s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.uploadBtn=null,t.uploadFolderBtn=null,t.showLabel=null,t.showSprite=null,t.showSkeleton=null,t.slotBtn=null,t}return r(t,e),t.prototype.onLoad=function(){var e=this;this.uploadBtn.node.on("click",function(){e.createFileInput(!1)},this),this.slotScorllView=this.node.getChildByName("SlotScrollView").getComponent(cc.ScrollView),this.slotContent=this.slotScorllView.content,this.btnCloseScorllView=cc.find("view/btnClose",this.slotScorllView.node),this.btnRefreshScorllView=cc.find("view/btnRefresh",this.slotScorllView.node),this.uploadFolderBtn&&this.uploadFolderBtn.node.on("click",function(){e.createFileInput(!0)},this),this.slotItem=this.node.getChildByName("SlotItem"),this.slotBtn.node.on("click",function(){e.showSlotMgr()},this),this.btnCloseScorllView.on(cc.Node.EventType.TOUCH_END,function(){e.slotScorllView.node.active=!1},this),this.btnRefreshScorllView.on(cc.Node.EventType.TOUCH_END,function(){e.showSlotMgr()},this)},t.prototype.showSlotMgr=function(){var e=this,t=this.showSkeleton.skeletonData;if(!t)return cc.log(this.showSkeleton),void cc.log("\u8bf7\u5148\u5bfc\u5165spine\u6587\u4ef6\u518d\u8fdb\u884c\u5361\u69fd\u7ba1\u7406-------------");this.slotScorllView.node.active=!0;var n=t.skeletonJson.slots;this.slotContent.removeAllChildren();for(var o=function(t){if(r.slotContent.childrenCount<=t){var o=cc.instantiate(r.slotItem);o.parent=r.slotContent,r.scheduleOnce(function(){o.position=cc.v3(0,0,0)},0),o.active=!0,cc.log(o,"slotNode")}var i=r.slotContent.children[t],a=n[t];i.getChildByName("Label").getComponent(cc.Label).string=a.name,i.name=a.name,i.opacity=255,i.color=cc.Color.WHITE,a.name,i.on(cc.Node.EventType.TOUCH_END,function(t){try{100===t.target.opacity?(cc.log("\u663e\u793a\u5361\u69fd",t.target.name),t.target.opacity=255,t.target.color=cc.Color.WHITE,e.showSkeleton.setAttachment(t.target.name,t.target.name)):255===t.target.opacity&&(cc.log("\u9690\u85cf\u5361\u69fd",t.target.name),t.target.opacity=100,t.target.color=cc.Color.YELLOW,e.showSkeleton.setAttachment(t.target.name,null))}catch(n){e.showSlotMgr()}},r)},r=this,i=0;i<n.length;i++)o(i)},t.prototype.createFileInput=function(e){var t=this;void 0===e&&(e=!1);var n=document.createElement("input");n.type="file",n.style.display="none",e?(n.setAttribute("webkitdirectory",""),n.setAttribute("directory","")):n.multiple=!0,n.accept=".txt,.json,.png,.jpg,.jpeg,.atlas",n.onchange=function(n){t.handleFileSelect(n,e)},document.body.appendChild(n),n.click(),document.body.removeChild(n)},t.prototype.handleFileSelect=function(e,t){void 0===t&&(t=!1);var n=e.target.files;if(!n||0===n.length)return cc.log("\u672a\u9009\u62e9\u4efb\u4f55\u6587\u4ef6"),void this.updateLabel("\u672a\u9009\u62e9\u4efb\u4f55\u6587\u4ef6");if(t)this.handleFolderUpload(n);else if(n.length>1)this.handleFolderUpload(n);else{var o=n[0];this.processSingleFile(o)}},t.prototype.handleFolderUpload=function(e){var t=this;cc.log("\u68c0\u6d4b\u5230\u6587\u4ef6\u5939\u4e0a\u4f20\uff0c\u5171 "+e.length+" \u4e2a\u6587\u4ef6");for(var n=[],o=[],r=0;r<e.length;r++){var i=(u=e[r]).name+" ("+(u.size/1024).toFixed(2)+"KB)";n.push(u.name),o.push(i),cc.log("\u6587\u4ef6 "+(r+1)+": "+i)}var a="\u6587\u4ef6\u5939\u5185\u5bb9 (\u5171"+e.length+"\u4e2a\u6587\u4ef6):\n";e.length<=10?a+=o.join("\n"):(a+=o.slice(0,10).join("\n"),a+="\n... \u8fd8\u6709 "+(e.length-10)+" \u4e2a\u6587\u4ef6"),this.updateLabel(a),cc.log("\u6587\u4ef6\u5939\u4e2d\u7684\u6240\u6709\u6587\u4ef6:",n);var c=[],l=[],s=[];for(r=0;r<e.length;r++){var u,p=(u=e[r]).name.toLowerCase();p.endsWith(".json")?c.push(u):p.endsWith(".atlas")?l.push(u):p.endsWith(".png")&&s.push(u)}cc.log("\u7b5b\u9009\u7ed3\u679c\uff1aJSON("+c.length+")\u3001Atlas("+l.length+")\u3001PNG("+s.length+")");var d="\n\n\u7b5b\u9009\u7ed3\u679c:\nJSON: "+c.length+"\u4e2a";if(c.length>0&&(d+=" ("+c.map(function(e){return e.name}).join(", ")+")"),d+="\nAtlas: "+l.length+"\u4e2a",l.length>0&&(d+=" ("+l.map(function(e){return e.name}).join(", ")+")"),d+="\nPNG: "+s.length+"\u4e2a",s.length>0&&(d+=" ("+s.map(function(e){return e.name}).join(", ")+")"),this.updateLabel(a+d),0!==c.length)if(0!==l.length)if(0!==s.length){var h=c[0],w=l[0],f=s[0];this.updateLabel("\u6b63\u5728\u52a0\u8f7d\u6587\u4ef6\u5939\u4e2d\u7684 Spine \u6587\u4ef6..."),this.loadFileAsText(h,function(e){window.spineSkeletonData=e,window.spineSkeletonType="json",cc.log("Spine \u9aa8\u67b6\u6587\u4ef6 "+h.name+" \u8bfb\u53d6\u6210\u529f"),t.loadFileAsText(w,function(e){window.spineAtlasData=e,cc.log("Spine \u56fe\u96c6\u6587\u4ef6 "+w.name+" \u8bfb\u53d6\u6210\u529f"),t.loadFileAsDataURL(f,function(e){window.spineTextureData=e,t.loadImageToTexture(e),cc.log("Spine \u7eb9\u7406\u56fe "+f.name+" \u8bfb\u53d6\u6210\u529f"),t.updateLabel("\u2705 Spine \u6587\u4ef6\u52a0\u8f7d\u6210\u529f\uff01\nJSON: "+h.name+"\nAtlas: "+w.name+"\nPNG: "+f.name)})})})}else this.updateLabel(a+d+"\n\n\u274c \u672a\u627e\u5230 PNG \u7eb9\u7406\u6587\u4ef6");else this.updateLabel(a+d+"\n\n\u274c \u672a\u627e\u5230 Atlas \u56fe\u96c6\u6587\u4ef6");else this.updateLabel(a+d+"\n\n\u274c \u672a\u627e\u5230 JSON \u9aa8\u67b6\u6587\u4ef6")},t.prototype.processSingleFile=function(e){var t=this;if(e.size>10485760)this.updateLabel("\u6587\u4ef6\u8fc7\u5927\uff08"+(e.size/1024/1024).toFixed(2)+"MB\uff09\uff0c\u6700\u5927\u652f\u6301 10MB");else{cc.log("\u9009\u4e2d\u6587\u4ef6\uff1a"+e.name+"\uff0c\u5927\u5c0f\uff1a"+(e.size/1024).toFixed(2)+"KB");var n=new FileReader;!e.type.includes("text")||e.name.endsWith(".atlas")||e.name.endsWith(".skel")?e.name.endsWith(".json")||e.name.endsWith(".skel")?(n.onload=function(n){var o,r=null===(o=n.target)||void 0===o?void 0:o.result;window.spineSkeletonData=r,window.spineSkeletonType=e.name.endsWith(".json")?"json":"skel",t.updateLabel("Spine \u9aa8\u67b6\u6587\u4ef6 "+e.name+" \u8bfb\u53d6\u6210\u529f"),t.checkSpineFilesReady()},n.onerror=function(e){return t.handleFileError(e)},n.readAsText(e)):e.name.endsWith(".atlas")?(n.onload=function(n){var o,r=null===(o=n.target)||void 0===o?void 0:o.result;window.spineAtlasData=r,cc.log("\u8bbe\u7f6e\u56fe\u96c6\u6210\u529f",window.spineAtlasData),t.updateLabel("Spine \u56fe\u96c6\u6587\u4ef6 "+e.name+" \u8bfb\u53d6\u6210\u529f"),t.checkSpineFilesReady()},n.onerror=function(e){return t.handleFileError(e)},n.readAsText(e)):e.type.includes("image")?(n.onload=function(n){var o,r=null===(o=n.target)||void 0===o?void 0:o.result;e.name.includes("spine")||window.spineAtlasData?(window.spineTextureData=r,t.loadImageToTexture(r),t.updateLabel("Spine \u7eb9\u7406\u56fe "+e.name+" \u8bfb\u53d6\u6210\u529f")):(t.loadImageToSprite(r),t.updateLabel("\u666e\u901a\u56fe\u7247 "+e.name+" \u4e0a\u4f20\u6210\u529f"))},n.onerror=function(e){return t.handleFileError(e)},n.readAsDataURL(e)):this.updateLabel("\u6682\u4e0d\u652f\u6301 "+e.name.split(".").pop()+" \u7c7b\u578b\u6587\u4ef6"):(n.onload=function(n){var o,r=null===(o=n.target)||void 0===o?void 0:o.result;if(t.updateLabel("\u6587\u672c\u5185\u5bb9\uff1a"+r.substring(0,100)+"..."),e.name.endsWith(".json")&&!e.name.includes("spine"))try{JSON.parse(r),t.updateLabel("JSON \u89e3\u6790\u6210\u529f")}catch(i){t.updateLabel("JSON \u89e3\u6790\u5931\u8d25\uff1a"+i.message)}},n.onerror=function(e){return t.handleFileError(e)},n.readAsText(e))}},t.prototype.loadFileAsText=function(e,t){var n=this,o=new FileReader;o.onload=function(e){var n,o=null===(n=e.target)||void 0===n?void 0:n.result;t(o)},o.onerror=function(e){return n.handleFileError(e)},o.readAsText(e)},t.prototype.loadFileAsDataURL=function(e,t){var n=this,o=new FileReader;o.onload=function(e){var n,o=null===(n=e.target)||void 0===n?void 0:n.result;t(o)},o.onerror=function(e){return n.handleFileError(e)},o.readAsDataURL(e)},t.prototype.loadImageToSprite=function(e){var t=this,n=new Image;n.crossOrigin="anonymous",n.onload=function(){window.textureSrc=new cc.Texture2D,window.textureSrc.initWithElement(n),window.textureSrc.handleLoadedTexture(),t.showSprite&&(t.showSprite.spriteFrame=new cc.SpriteFrame(window.textureSrc)),cc.log("\u8bbe\u7f6e\u56fe\u7247\u6210\u529f",window.textureSrc)},n.onerror=function(){t.updateLabel("\u56fe\u7247\u52a0\u8f7d\u5931\u8d25")},n.src=e},t.prototype.loadImageToTexture=function(e){var t=this,n=new Image;n.crossOrigin="anonymous",n.onload=function(){try{if(window.textureSrc=new cc.Texture2D,window.textureSrc.initWithElement(n),window.textureSrc.handleLoadedTexture(),!(window.textureSrc&&window.textureSrc.width>0&&window.textureSrc.height>0))throw new Error("\u7eb9\u7406\u5bf9\u8c61\u521b\u5efa\u540e\u672a\u6b63\u786e\u521d\u59cb\u5316");cc.log("Spine \u7eb9\u7406\u5bf9\u8c61\u521b\u5efa\u6210\u529f",window.textureSrc,"\u7eb9\u7406\u5c3a\u5bf8:",window.textureSrc.width,"x",window.textureSrc.height),t.scheduleOnce(function(){t.checkSpineFilesReady()},0)}catch(o){var e="\u7eb9\u7406\u521b\u5efa\u5931\u8d25\uff1a"+o.message;t.updateLabel(e),cc.error(e),window.textureSrc=null}},n.onerror=function(e){t.updateLabel("Spine \u7eb9\u7406\u56fe\u52a0\u8f7d\u5931\u8d25"),cc.error("Spine \u7eb9\u7406\u56fe\u52a0\u8f7d\u5931\u8d25",e),window.textureSrc=null},n.src=e},t.prototype.updateLabel=function(e){this.showLabel&&(this.showLabel.string=e)},t.prototype.checkSpineFilesReady=function(){if(window.spineSkeletonData&&window.spineAtlasData&&window.spineTextureData&&window.textureSrc)cc.log("\u6240\u6709 Spine \u8d44\u6e90\u5df2\u5c31\u7eea\uff0c\u5f00\u59cb\u521d\u59cb\u5316..."),this.loadSpineToGame();else{var e=[];window.spineSkeletonData||e.push("\u9aa8\u67b6\u6587\u4ef6(.json/.skel)"),window.spineAtlasData||e.push("\u56fe\u96c6\u6587\u4ef6(.atlas)"),window.spineTextureData||e.push("\u7eb9\u7406\u56fe\u6570\u636e"),window.textureSrc||e.push("\u7eb9\u7406\u5bf9\u8c61");var t="\u5f85\u4e0a\u4f20\uff1a"+e.join("\u3001");this.updateLabel(t),cc.log("Spine \u8d44\u6e90\u72b6\u6001:",{skeleton:!!window.spineSkeletonData,atlas:!!window.spineAtlasData,textureData:!!window.spineTextureData,textureSrc:!!window.textureSrc})}},t.prototype.extractPageNameFromAtlas=function(e){if(!e)return null;var t=e.split(/\r?\n/);if(0===t.length)return null;var n=t[0].trim();return n||(cc.log("\u7b2c\u4e00\u884c\u4e3anull",n),n=t[1].trim()),n||(cc.error("altas\u4fe1\u606f\u5982\u4e0b",e),null)},t.prototype.processAtlasText=function(e){return cc.log("Atlas \u6587\u4ef6\u5185\u5bb9\u4fdd\u7559\u5b8c\u6574\uff08\u5305\u62ec\u9875\u9762\u540d\u79f0\uff09"),e},t.prototype.loadSpineToGame=function(){var e=this;try{if(!window.spineSkeletonData||!window.spineAtlasData||!window.textureSrc){var t="Spine \u8d44\u6e90\u672a\u5b8c\u5168\u52a0\u8f7d";return this.updateLabel(t),void cc.error(t,{skeleton:!!window.spineSkeletonData,atlas:!!window.spineAtlasData,texture:!!window.textureSrc})}if(!window.textureSrc||window.textureSrc.width<=0||window.textureSrc.height<=0)return t="\u7eb9\u7406\u5bf9\u8c61\u65e0\u6548\u6216\u672a\u5b8c\u5168\u52a0\u8f7d",this.updateLabel(t),void cc.error(t,{texture:!!window.textureSrc,width:window.textureSrc?window.textureSrc.width:0,height:window.textureSrc?window.textureSrc.height:0});if(cc.log("\u5f00\u59cb\u521b\u5efa SkeletonData..."),!window.textureSrc)return t="\u7eb9\u7406\u5bf9\u8c61\u4e3a\u7a7a",this.updateLabel(t),void cc.error(t);var n=function(){try{if(!window.textureSrc||window.textureSrc.width<=0||window.textureSrc.height<=0)return cc.error("\u7eb9\u7406\u5bf9\u8c61\u9a8c\u8bc1\u5931\u8d25",{texture:!!window.textureSrc,width:window.textureSrc?window.textureSrc.width:0,height:window.textureSrc?window.textureSrc.height:0}),void e.updateLabel("\u7eb9\u7406\u5bf9\u8c61\u672a\u51c6\u5907\u597d\uff0c\u8bf7\u91cd\u8bd5");var t=new sp.SkeletonData;t.skeletonJson=window.spineSkeletonData;var n=e.processAtlasText(window.spineAtlasData);t.atlasText=n;var o=e.extractPageNameFromAtlas(n);cc.log("Atlas \u9875\u9762\u540d\u79f0:",o),cc.log("Atlas \u6587\u4ef6\u5185\u5bb9:",n.substring(0,100)+"..."),cc.log("Atlas \u6587\u4ef6\u5df2\u5904\u7406\uff0c\u539f\u59cb\u957f\u5ea6:",window.spineAtlasData.length,"\u5904\u7406\u540e\u957f\u5ea6:",n.length),o&&(window.textureSrc.name=o,cc.log("\u7eb9\u7406\u540d\u79f0\u5df2\u8bbe\u7f6e\u4e3a:",o));var r=[];r.push(window.textureSrc),t.textures=r,o&&void 0!==t.textureNames&&(t.textureNames=[o],cc.log("\u5df2\u8bbe\u7f6e textureNames:",[o])),cc.log("SkeletonData \u521b\u5efa\u5b8c\u6210\uff0c\u7eb9\u7406\u6570\u91cf:",r.length),cc.log("\u7eb9\u7406\u8be6\u7ec6\u4fe1\u606f:",{width:window.textureSrc.width,height:window.textureSrc.height,name:window.textureSrc.name||"(\u672a\u547d\u540d)",texture:window.textureSrc});var i=e.showSkeleton;if(!i){var a="Spine Skeleton \u7ec4\u4ef6\u672a\u8bbe\u7f6e";return e.updateLabel(a),void cc.error(a)}cc.log("\u8bbe\u7f6e SkeletonData \u5230\u7ec4\u4ef6..."),i.skeletonData=t,e.setupSpineAnimation(i)}catch(c){a="Spine \u521d\u59cb\u5316\u5931\u8d25\uff1a"+c.message,e.updateLabel(a),cc.error(a,c),c.stack&&cc.error("\u9519\u8bef\u5806\u6808:",c.stack)}};"undefined"!=typeof requestAnimationFrame?requestAnimationFrame(function(){requestAnimationFrame(function(){n()})}):this.scheduleOnce(n,.2)}catch(o){t="Spine \u521d\u59cb\u5316\u5931\u8d25\uff1a"+o.message,this.updateLabel(t),cc.error(t,o),o.stack&&cc.error("\u9519\u8bef\u5806\u6808:",o.stack)}},t.prototype.setupSpineAnimation=function(e){var t="animation";try{var n=JSON.parse(window.spineSkeletonData);n.animations&&Object.keys(n.animations).length>0?(t=Object.keys(n.animations)[0],cc.log("\u53ef\u7528\u52a8\u753b\u5217\u8868:",Object.keys(n.animations)),cc.log("\u4f7f\u7528\u52a8\u753b: "+t)):cc.log("\u672a\u627e\u5230\u52a8\u753b\uff0c\u4f7f\u7528\u9ed8\u8ba4\u52a8\u753b\u540d: animation")}catch(o){cc.warn("\u89e3\u6790\u52a8\u753b\u540d\u79f0\u5931\u8d25\uff0c\u4f7f\u7528\u9ed8\u8ba4\u52a8\u753b\u540d",o)}e.setAnimation(0,t,!0),e.loop=!0,e.premultipliedAlpha=!1,this.updateLabel("Spine \u52a8\u753b\u521d\u59cb\u5316\u6210\u529f\uff01"),cc.log("Spine \u52a8\u753b\u521d\u59cb\u5316\u6210\u529f\uff01"),window.spineSkeletonData=null,window.spineAtlasData=null,window.spineTextureData=null,window.spineSkeletonType=null,window.textureSrc=null},t.prototype.base64ToArrayBuffer=function(e){for(var t=window.atob(e),n=t.length,o=new Uint8Array(n),r=0;r<n;r++)o[r]=t.charCodeAt(r);return o.buffer},t.prototype.handleFileError=function(e){var t,n="\u6587\u4ef6\u8bfb\u53d6\u5931\u8d25\uff1a"+(null===(t=e.target)||void 0===t?void 0:t.error).message;cc.error(n),this.updateLabel(n)},i([l(cc.Button)],t.prototype,"uploadBtn",void 0),i([l(cc.Button)],t.prototype,"uploadFolderBtn",void 0),i([l(cc.Label)],t.prototype,"showLabel",void 0),i([l(cc.Sprite)],t.prototype,"showSprite",void 0),i([l(sp.Skeleton)],t.prototype,"showSkeleton",void 0),i([l(cc.Button)],t.prototype,"slotBtn",void 0),i([c],t)}(cc.Component);n.default=s,cc._RF.pop()},{}],opneLocalFile:[function(e,t,n){"use strict";cc._RF.push(t,"f15ffoAlABJgYDMNGll8yWr","opneLocalFile");var o,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.READ_FILE_TYPE=void 0;var a,c=cc._decorator,l=c.ccclass,s=c.property;(function(e){e[e.DATA_URL=0]="DATA_URL",e[e.TEXT=1]="TEXT",e[e.BINARY=2]="BINARY",e[e.ARRAYBUFFER=3]="ARRAYBUFFER"})(a=n.READ_FILE_TYPE||(n.READ_FILE_TYPE={}));var u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.text="hello",t}return r(t,e),t.prototype.start=function(){},t.prototype.openLocalFile=function(e,t){var n=document.getElementById("file_input");n||((n=document.createElement("input")).id="file_input",n.setAttribute("id","file_input"),n.setAttribute("type","file"),n.setAttribute("class","fileToUpload"),n.style.opacity="0",n.style.position="absolute",n.setAttribute("left","-999px"),document.body.appendChild(n)),e=e||".*",n.setAttribute("accept",e),n.onchange=function(){var e=n.files;if(e&&e.length>0){var o=e[0];t&&t(o)}},n.click()},t.prototype.readLocalFile=function(e,t,n){var o=new FileReader;switch(o.onload=function(){n&&(o.readyState==FileReader.DONE?n(o.result):n(null))},t){case a.DATA_URL:o.readAsDataURL(e);break;case a.TEXT:o.readAsText(e);break;case a.BINARY:o.readAsBinaryString(e);break;case a.ARRAYBUFFER:o.readAsArrayBuffer(e)}},t.prototype.base64ToTexture2D=function(e,t){if(e){var n=new Image;n.onload=function(){var e=new cc.Texture2D;e.initWithElement(n),e.handleLoadedTexture(),t&&t(e)},n.onerror=function(){},void 0!==e.startsWith&&e.startsWith("data:image")?n.src=e:n.src="data:image/png;base64,"+e}else t&&t(null)},t.prototype.base64ToSpriteFrame=function(e,t){this.base64ToTexture2D(e,function(e){if(e){var n=new cc.SpriteFrame(e);t&&t(n)}else t&&t(null)})},i([s(cc.Label)],t.prototype,"label",void 0),i([s],t.prototype,"text",void 0),i([l],t)}(cc.Component);n.default=u,cc._RF.pop()},{}],test:[function(e,t,n){"use strict";cc._RF.push(t,"ba83bLYo9hMeqEwwCzeCrH7","test");var o,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,l=(a.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bgSpeed=400,t}return r(t,e),t.prototype.start=function(){var e=this;this.sp1=this.node.getComponent(sp.Skeleton),cc.log("\u6b63\u5e38\u7684sKeletonData",this.sp1.skeletonData,"------------------"),this.scheduleOnce(function(){e.changeSkin(e.sp1)},1)},t.prototype.changeSkin=function(e){"1"==e.node.name?(this.sp1.setAttachment("1\u6a80\u529b\u7403","1\u6a80\u529b\u7403"),this.sp1.setAttachment("1\u6a80\u5c0f\u5446","1\u6a80\u5c0f\u5446")):"3"==e.node.name&&e.setAttachment("3\u9ecf\u9ecf","3\u9ecf\u9ecf")},i([c],t)}(cc.Component));n.default=l,cc._RF.pop()},{}]},{},["circlePageView","h5FileLoad","opneLocalFile","test"]);